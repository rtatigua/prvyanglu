<div class="player-detail-container">
  @if (player) {
    <div class="player-header">
      <button class="back-btn" (click)="goBack()">← Back to Players</button>
      <div class="player-info">
        <div class="avatar">
          @if (player.avatar && isEmoji(player.avatar)) {
            <span class="emoji-avatar">{{ player.avatar }}</span>
          } @else if (player.avatar) {
            <img [src]="player.avatar" alt="{{ player.nickname }}" />
          } @else {
            <span class="emoji-avatar">⚔️</span>
          }
        </div>
        <div class="info-text">
          <h2>{{ player.nickname }}</h2>
          <p class="level">Level {{ player.level }}</p>
        </div>
      </div>
    </div>

    <div class="quest-section">
      <h3>Assigned Quests</h3>
      <app-quest-list
        [quests]="assignedQuests"
        [actionButton]="true"
        [actionLabel]="'Mark Complete'"
        (onAction)="completeQuest($event)">
      </app-quest-list>
    </div>

    <div class="quest-section">
      <h3>Completed Quests</h3>
      <app-quest-list
        [quests]="completedQuests"
        [actionButton]="true"
        [actionLabel]="'Mark Incomplete'"
        (onAction)="uncompleteQuest($event)">
      </app-quest-list>
    </div>
  } @else {
    <p class="error">Player not found.</p>
  }
</div>
