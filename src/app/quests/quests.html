<div class="quests-container">
  <div class="quests-header">
    <h1>ğŸ“œ Quests</h1>
    <p class="quest-count">Total Quests: {{ questCount() }}</p>
  </div>

  <button class="btn-add-quest" (click)="addQuest()">
    <span class="icon">â•</span> Create New Quest
  </button>

  <div class="quests-grid">
    <ng-container *ngIf="quests().length; else empty">
      <div *ngFor="let quest of quests()" class="quest-card" (click)="goToDetail(quest.id)">
        <div class="quest-header-section">
          <h3>{{ quest.title }}</h3>
          <span class="xp-badge">{{ quest.xp }} XP</span>
        </div>

        <div class="quest-body">
          <p class="quest-desc">{{ quest.description }}</p>
        </div>

        <div class="quest-actions">
          <button class="btn-toggle" (click)="$event.stopPropagation(); toggleExpand(quest.id)">
            {{ isExpanded(quest.id) ? 'Collapse' : 'Expand' }}
          </button>

          <button class="btn-delete" (click)="$event.stopPropagation(); deleteQuest(quest.id)">
            Delete
          </button>
        </div>

        <div *ngIf="isExpanded(quest.id)" class="quest-expanded">
          <p><strong>Details:</strong> {{ quest.description }}</p>
          <p><strong>Status:</strong> {{ quest.completed ? 'Completed' : 'In Progress' }}</p>
        </div>
      </div>
    </ng-container>

    <ng-template #empty>
      <div class="empty-state">
        <p>ğŸœï¸ No quests available yet.</p>
        <p>Click "Create New Quest" to get started!</p>
      </div>
    </ng-template>
  </div>
</div>
