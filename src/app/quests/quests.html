<div class="quests-container">
  <div class="quests-header">
    <h1>ğŸ“œ Quests</h1>
    <p class="quest-count">Total Quests: {{ questCount() }}</p>
  </div>

  <button class="btn-add-quest" (click)="addQuest()">
    <span class="icon">â•</span> Create New Quest
  </button>

  <div class="quests-grid">
    <ng-container *ngIf="quests().length; else empty">
      <div *ngFor="let quest of quests()" class="quest-card" (click)="goToDetail(quest.id)">
        <div class="quest-header-section">
          <h3>{{ quest.title }}</h3>
          <span class="xp-badge">{{ quest.xp }} XP</span>
        </div>

        <p class="quest-description" [class.clamped]="!isExpanded(quest.id)">{{ quest.description }}</p>

        <div class="quest-meta">
          <span class="status" [class.completed]="quest.completed">{{ quest.completed ? 'Completed' : 'In Progress' }}</span>

          <div class="actions">
            <button class="btn-toggle" (click)="$event.stopPropagation(); toggleExpand(quest.id)">
              {{ isExpanded(quest.id) ? 'Show less' : 'Show more' }}
            </button>

            <button class="btn-delete" (click)="$event.stopPropagation(); deleteQuest(quest.id)">Delete</button>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-template #empty>
      <div class="empty-state">
        <p>ğŸœï¸ No quests available yet.</p>
        <p>Click "Create New Quest" to get started!</p>
      </div>
    </ng-template>
  </div>
</div>